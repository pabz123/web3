<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Job Application</title>
    <link rel="stylesheet" href="/css/global.css">
	<link rel="stylesheet" href="/css/cv.css">
   </head>
<body >
<header>
<nav class="page-content-wrapper header-nav">

   <a class="logo" href="home.html">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="40" height="40" fill="none" stroke="currentColor" stroke-width="2.2">
    <circle cx="32" cy="32" r="30" stroke="#0a66c2"/>
    <rect x="18" y="28" width="28" height="18" rx="3" ry="3" stroke="#0a66c2"/>
    <path d="M24 28v-4h16v4" stroke="#0a66c2"/>
    <path d="M32 12l14 6-14 6-14-6 14-6z" stroke="#0a66c2"/>
    <path d="M32 24v4" stroke="#0a66c2"/>
  </svg>
  <span class="logo-text">CaReeR CoNNect HuB</span>
</a>
<div class="nav-links">
<a href="home.html">Home</a>
<a href="jobs.html">Jobs</a>
<a href="internship.html">Internships</a>
<a href="career tips.html">Tips</a>
</div>
<div class="header-actions">
<div class="nav-user" id="nav-user">
    <img id="user-avatar" src="/uploads/default-avatar.png" alt="User Avatar">
    <span id="user-name" class="nav-username">Student</span>
    <div class="profile-dropdown" id="profile-dropdown">
      <a href="student-profile.html">View Profile</a>
      <a href="my-applications.html">My Applications</a>
      <a href="#" id="logout-btn">Logout</a>
    </div>
  </div>
  <button id="theme-toggle" class="btn btn-secondary">ðŸŒ™ Light Mode</button>
</div>
</nav>
</header>
<main class="center-container">
    <div class="card-form">
        <div class="app-header">
            <h2>Job Application</h2>
        </div>

        <div class="app-info">
            <div class="image-placeholder">Company Logo</div>
            <div class="app-info-content">
                <h3 class="job-title">Senior Software Engineer</h3>
                <p class="company-name">TechCorp Innovations</p>
                <p class="text-medium">Full-time Â· San Francisco, CA (Remote)</p>
            </div>
        </div>

        <form id="applyForm" method="post" action="/applications" enctype="multipart/form-data">
            <input type="hidden" name="jobId" id="jobId" value=""/>

            <label for="fullName">Full Name</label>
            <input id="fullName" name="fullName" type="text" placeholder="John Doe"/>

            <label for="email">Email</label>
            <input id="email" name="email" type="email" placeholder="john.doe@email.com"/>

            <label for="phone">Phone Number</label>
            <input id="phone" name="phone" type="tel" placeholder="(555) 555-5555"/>

            <label for="coverLetter">Cover Letter (Optional)</label>
            <textarea id="coverLetter" name="coverLetter" placeholder="Tell us why you're a great fit..." rows="4"></textarea>

            <label for="cvFile">Resume/CV Upload</label>
            <div class="file-upload-box">
                <input id="cvFile" name="cvFile" type="file" accept=".pdf,.doc,.docx" required/>
                <p class="text-medium">Drag and drop your file here, or click to browse</p>
                <p class="text-medium" style="font-size: 12px; margin-top: 5px;">(PDF, DOCX up to 5MB)</p>
            </div>
            
            <button class="btn btn-primary margin-top-large" type="submit">Submit Application</button>
        </form>
    </div>
	</main>
	<footer class="footer">
<div class="page-content-wrapper footer-content">
<p>Â© 2025 CaReeR CoNNect HuB. All rights reserved.</p>
<div class="footer-social">
 <span> For more info </span>
  <!-- Instagram -->
  <a href="https://www.instagram.com/my.preciouspabz" target="_blank" aria-label="Instagram" class="social-link">
    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/>
      <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/>
      <circle cx="17.5" cy="6.5" r="1.5"/>
    </svg>
  </a>

  <!-- GitHub -->
  <a href="https://github.com/pabz123" target="_blank" aria-label="GitHub" class="social-link">
    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path d="M9 19c-4.5 1.5-4.5-2.5-6-3m12 5v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 18 2.77 5.07 5.07 0 0 0 17.91 0S16.73.35 14 2.48a13.38 13.38 0 0 0-8 0C3.27.35 2.09 0 2.09 0A5.07 5.07 0 0 0 2 2.77 5.44 5.44 0 0 0 .5 8.5c0 5.42 3.3 6.61 6.44 7a3.37 3.37 0 0 0-.94 2.61V21"/>
    </svg>
  </a>

  <!-- LinkedIn -->
  <a href="https://www.linkedin.com/in/pabz" target="_blank" aria-label="LinkedIn" class="social-link">
    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2h-1v9h-4v-9h-4v9H3V9h4v1.2a4.6 4.6 0 0 1 4-2.2z"/>
      <rect x="2" y="9" width="4" height="12"/>
      <circle cx="4" cy="4" r="2"/>
    </svg>
  </a>
</div>

</div>
</footer>
</div>
</div>
<script>
  const toggle = document.getElementById('theme-toggle');
  const body = document.body;

  // Load saved theme from localStorage
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'light') {
    body.classList.add('light-theme');
    toggle.textContent = 'ðŸŒ™ Dark Mode';
  }

  // Toggle theme on button click
  toggle.addEventListener('click', () => {
    const isLight = body.classList.toggle('light-theme');
    toggle.textContent = isLight ? 'ðŸŒ™ Dark Mode' : 'â˜€ï¸ Light Mode';
    localStorage.setItem('theme', isLight ? 'light' : 'dark');
  });
  const logoutBtn = document.getElementById('logout-btn');

  if (logoutBtn) {
    logoutBtn.addEventListener('click', async () => {
      try {
        // Optionally tell your server to destroy the session
        await fetch('http://localhost:5000/auth/logout', {
          method: 'POST',
          credentials: 'include'
        });

        // Clear localStorage or tokens
        localStorage.removeItem('token');
        localStorage.removeItem('theme');

        alert('You have been logged out.');
        window.location.href = 'login.html';
      } catch (err) {
        console.error('Logout error:', err);
        alert('Could not log out. Please try again.');
      }
    });
  }
  document.addEventListener("DOMContentLoaded", () => {
    const user = JSON.parse(localStorage.getItem("user"));
    const userName = document.getElementById("user-name");
    const userAvatar = document.getElementById("user-avatar");

    if (user && user.name) {
      userName.textContent = user.name;
      if (user.profileImage) {
        userAvatar.src = user.profileImage;
      }
    } 

    // Toggle dropdown
    const navUser = document.getElementById("nav-user");
    navUser.addEventListener("click", () => {
      navUser.classList.toggle("active");
    });

    // Close dropdown on outside click
    document.addEventListener("click", (e) => {
      if (!navUser.contains(e.target)) {
        navUser.classList.remove("active");
      }
    });

    // Logout logic
    const logoutBtn = document.getElementById("logout-btn");
    if (logoutBtn) {
      logoutBtn.addEventListener("click", async (e) => {
        e.preventDefault();
        localStorage.removeItem("user");
        localStorage.removeItem("token");
        localStorage.removeItem("theme");
        alert("You have been logged out.");
        window.location.href = "login.html";
      });
    }
  });


</script>
</body>
</html>